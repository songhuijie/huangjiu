<?php
/**
 * Created by PhpStorm.
 * User: Administrator
 * Date: 2020/1/3
 * Time: 15:09
 */
namespace App\Services;
use App\Model\Freight;

class CityServices{

    const CITY = [
        0=>"北京市",
        1=>"天津市",
        2=>"河北省",
        3=>"山西省",
        4=>"内蒙古自治区",
        5=>"辽宁省",
        6=>"吉林省",
        7=>"黑龙江省",
        8=>"上海市",
        9=>"江苏省",
        10=>"浙江省",
        11=>"安徽省",
        12=>"福建省",
        13=>"江西省",
        14=>"山东省",
        15=>"河南省",
        16=>"湖北省",
        17=>"湖南省",
        18=>"广东省",
        19=>"广西壮族自治区",
        20=>"海南省",
        21=>"重庆市",
        22=>"四川省",
        23=>"贵州省",
        24=>"云南省",
        25=>"西藏自治区",
        26=>"陕西省",
        27=>"甘肃省",
        28=>"青海省",
        29=>"宁夏回族自治区",
        30=>"新疆维吾尔自治区",
        31=>"台湾",
        32=>"香港",
        33=>"澳门",
        35=>"市辖区",
        36=>"市辖区",
        37=>"石家庄市",
        38=>"唐山市",
        39=>"秦皇岛市",
        40=>"邯郸市",
        41=>"邢台市",
        42=>"保定市",
        43=>"张家口市",
        44=>"承德市",
        45=>"沧州市",
        46=>"廊坊市",
        47=>"衡水市",
        48=>"太原市",
        49=>"大同市",
        50=>"阳泉市",
        51=>"长治市",
        52=>"晋城市",
        53=>"朔州市",
        54=>"晋中市",
        55=>"运城市",
        56=>"忻州市",
        57=>"临汾市",
        58=>"吕梁市",
        59=>"呼和浩特市",
        60=>"包头市",
        61=>"乌海市",
        62=>"赤峰市",
        63=>"通辽市",
        64=>"鄂尔多斯市",
        65=>"呼伦贝尔市",
        66=>"巴彦淖尔市",
        67=>"乌兰察布市",
        68=>"兴安盟",
        69=>"锡林郭勒盟",
        70=>"阿拉善盟",
        71=>"沈阳市",
        72=>"大连市",
        73=>"鞍山市",
        74=>"抚顺市",
        75=>"本溪市",
        76=>"丹东市",
        77=>"锦州市",
        78=>"营口市",
        79=>"阜新市",
        80=>"辽阳市",
        81=>"盘锦市",
        82=>"铁岭市",
        83=>"朝阳市",
        84=>"葫芦岛市",
        85=>"长春市",
        86=>"吉林市",
        87=>"四平市",
        88=>"辽源市",
        89=>"通化市",
        90=>"白山市",
        91=>"松原市",
        92=>"白城市",
        93=>"延边朝鲜族自治州",
        94=>"哈尔滨市",
        95=>"齐齐哈尔市",
        96=>"鸡西市",
        97=>"鹤岗市",
        98=>"双鸭山市",
        99=>"大庆市",
        100=>"伊春市",
        101=>"佳木斯市",
        102=>"七台河市",
        103=>"牡丹江市",
        104=>"黑河市",
        105=>"绥化市",
        106=>"大兴安岭地区",
        107=>"市辖区",
        108=>"南京市",
        109=>"无锡市",
        110=>"徐州市",
        111=>"常州市",
        112=>"苏州市",
        113=>"南通市",
        114=>"连云港市",
        115=>"淮安市",
        116=>"盐城市",
        117=>"扬州市",
        118=>"镇江市",
        119=>"泰州市",
        120=>"宿迁市",
        121=>"杭州市",
        122=>"宁波市",
        123=>"温州市",
        124=>"嘉兴市",
        125=>"湖州市",
        126=>"绍兴市",
        127=>"金华市",
        128=>"衢州市",
        129=>"舟山市",
        130=>"台州市",
        131=>"丽水市",
        132=>"合肥市",
        133=>"芜湖市",
        134=>"蚌埠市",
        135=>"淮南市",
        136=>"马鞍山市",
        137=>"淮北市",
        138=>"铜陵市",
        139=>"安庆市",
        140=>"黄山市",
        141=>"滁州市",
        142=>"阜阳市",
        143=>"宿州市",
        144=>"六安市",
        145=>"亳州市",
        146=>"池州市",
        147=>"宣城市",
        148=>"福州市",
        149=>"厦门市",
        150=>"莆田市",
        151=>"三明市",
        152=>"泉州市",
        153=>"漳州市",
        154=>"南平市",
        155=>"龙岩市",
        156=>"宁德市",
        157=>"南昌市",
        158=>"景德镇市",
        159=>"萍乡市",
        160=>"九江市",
        161=>"新余市",
        162=>"鹰潭市",
        163=>"赣州市",
        164=>"吉安市",
        165=>"宜春市",
        166=>"抚州市",
        167=>"上饶市",
        168=>"济南市",
        169=>"青岛市",
        170=>"淄博市",
        171=>"枣庄市",
        172=>"东营市",
        173=>"烟台市",
        174=>"潍坊市",
        175=>"济宁市",
        176=>"泰安市",
        177=>"威海市",
        178=>"日照市",
        179=>"莱芜市",
        180=>"临沂市",
        181=>"德州市",
        182=>"聊城市",
        183=>"滨州市",
        184=>"菏泽市",
        185=>"郑州市",
        186=>"开封市",
        187=>"洛阳市",
        188=>"平顶山市",
        189=>"安阳市",
        190=>"鹤壁市",
        191=>"新乡市",
        192=>"焦作市",
        193=>"濮阳市",
        194=>"许昌市",
        195=>"漯河市",
        196=>"三门峡市",
        197=>"南阳市",
        198=>"商丘市",
        199=>"信阳市",
        200=>"周口市",
        201=>"驻马店市",
        202=>"省直辖县级行政区划",
        203=>"武汉市",
        204=>"黄石市",
        205=>"十堰市",
        206=>"宜昌市",
        207=>"襄阳市",
        208=>"鄂州市",
        209=>"荆门市",
        210=>"孝感市",
        211=>"荆州市",
        212=>"黄冈市",
        213=>"咸宁市",
        214=>"随州市",
        215=>"恩施土家族苗族自治州",
        216=>"省直辖县级行政区划",
        217=>"长沙市",
        218=>"株洲市",
        219=>"湘潭市",
        220=>"衡阳市",
        221=>"邵阳市",
        222=>"岳阳市",
        223=>"常德市",
        224=>"张家界市",
        225=>"益阳市",
        226=>"郴州市",
        227=>"永州市",
        228=>"怀化市",
        229=>"娄底市",
        230=>"湘西土家族苗族自治州",
        231=>"广州市",
        232=>"韶关市",
        233=>"深圳市",
        234=>"珠海市",
        235=>"汕头市",
        236=>"佛山市",
        237=>"江门市",
        238=>"湛江市",
        239=>"茂名市",
        240=>"肇庆市",
        241=>"惠州市",
        242=>"梅州市",
        243=>"汕尾市",
        244=>"河源市",
        245=>"阳江市",
        246=>"清远市",
        247=>"东莞市",
        248=>"中山市",
        249=>"潮州市",
        250=>"揭阳市",
        251=>"云浮市",
        252=>"南宁市",
        253=>"柳州市",
        254=>"桂林市",
        255=>"梧州市",
        256=>"北海市",
        257=>"防城港市",
        258=>"钦州市",
        259=>"贵港市",
        260=>"玉林市",
        261=>"百色市",
        262=>"贺州市",
        263=>"河池市",
        264=>"来宾市",
        265=>"崇左市",
        266=>"海口市",
        267=>"三亚市",
        268=>"三沙市",
        269=>"儋州市",
        270=>"省直辖县级行政区划",
        271=>"市辖区",
        272=>"县",
        273=>"成都市",
        274=>"自贡市",
        275=>"攀枝花市",
        276=>"泸州市",
        277=>"德阳市",
        278=>"绵阳市",
        279=>"广元市",
        280=>"遂宁市",
        281=>"内江市",
        282=>"乐山市",
        283=>"南充市",
        284=>"眉山市",
        285=>"宜宾市",
        286=>"广安市",
        287=>"达州市",
        288=>"雅安市",
        289=>"巴中市",
        290=>"资阳市",
        291=>"阿坝藏族羌族自治州",
        292=>"甘孜藏族自治州",
        293=>"凉山彝族自治州",
        294=>"贵阳市",
        295=>"六盘水市",
        296=>"遵义市",
        297=>"安顺市",
        298=>"毕节市",
        299=>"铜仁市",
        300=>"黔西南布依族苗族自治州",
        301=>"黔东南苗族侗族自治州",
        302=>"黔南布依族苗族自治州",
        303=>"昆明市",
        304=>"曲靖市",
        305=>"玉溪市",
        306=>"保山市",
        307=>"昭通市",
        308=>"丽江市",
        309=>"普洱市",
        310=>"临沧市",
        311=>"楚雄彝族自治州",
        312=>"红河哈尼族彝族自治州",
        313=>"文山壮族苗族自治州",
        314=>"西双版纳傣族自治州",
        315=>"大理白族自治州",
        316=>"德宏傣族景颇族自治州",
        317=>"怒江傈僳族自治州",
        318=>"迪庆藏族自治州",
        319=>"拉萨市",
        320=>"日喀则市",
        321=>"昌都市",
        322=>"林芝市",
        323=>"山南市",
        324=>"那曲地区",
        325=>"阿里地区",
        326=>"西安市",
        327=>"铜川市",
        328=>"宝鸡市",
        329=>"咸阳市",
        330=>"渭南市",
        331=>"延安市",
        332=>"汉中市",
        333=>"榆林市",
        334=>"安康市",
        335=>"商洛市",
        336=>"兰州市",
        337=>"嘉峪关市",
        338=>"金昌市",
        339=>"白银市",
        340=>"天水市",
        341=>"武威市",
        342=>"张掖市",
        343=>"平凉市",
        344=>"酒泉市",
        345=>"庆阳市",
        346=>"定西市",
        347=>"陇南市",
        348=>"临夏回族自治州",
        349=>"甘南藏族自治州",
        350=>"西宁市",
        351=>"海东市",
        352=>"海北藏族自治州",
        353=>"黄南藏族自治州",
        354=>"海南藏族自治州",
        355=>"果洛藏族自治州",
        356=>"玉树藏族自治州",
        357=>"海西蒙古族藏族自治州",
        358=>"银川市",
        359=>"石嘴山市",
        360=>"吴忠市",
        361=>"固原市",
        362=>"中卫市",
        363=>"乌鲁木齐市",
        364=>"克拉玛依市",
        365=>"吐鲁番市",
        366=>"哈密市",
        367=>"昌吉回族自治州",
        368=>"博尔塔拉蒙古自治州",
        369=>"巴音郭楞蒙古自治州",
        370=>"阿克苏地区",
        371=>"克孜勒苏柯尔克孜自治州",
        372=>"喀什地区",
        373=>"和田地区",
        374=>"伊犁哈萨克自治州",
        375=>"塔城地区",
        376=>"阿勒泰地区",
        377=>"自治区直辖县级行政区划",
        378=>"台北",
        379=>"高雄",
        380=>"基隆",
        381=>"台中",
        382=>"台南",
        383=>"新竹",
        384=>"嘉义",
        385=>"宜兰",
        386=>"桃园",
        387=>"苗栗",
        388=>"彰化",
        389=>"南投",
        390=>"云林",
        391=>"屏东",
        392=>"台东",
        393=>"花莲",
        394=>"澎湖",
        395=>"香港岛",
        396=>"九龙",
        397=>"新界",
        398=>"澳门半岛",
        399=>"氹仔岛",
        400=>"路环岛",
        401=>"路氹城",
    ];

    const CITY_NAME = [
        "北京市"=>[35=>"市辖区"],
        "天津市"=>[36=>"市辖区"],
        "河北省"=>[37=>"石家庄市",38=>"唐山市",39=>"秦皇岛市",40=>"邯郸市",41=>"邢台市",42=>"保定市",43=>"张家口市",44=>"承德市",45=>"沧州市",46=>"廊坊市",47=>"衡水市"],
        "山西省"=>[48=>"太原市",49=>"大同市",50=>"阳泉市",51=>"长治市",52=>"晋城市",53=>"朔州市",54=>"晋中市",55=>"运城市",56=>"忻州市",57=>"临汾市",58=>"吕梁市"],
        "内蒙古自治区"=>[59=>"呼和浩特市",60=>"包头市",61=>"乌海市",62=>"赤峰市",63=>"通辽市",64=>"鄂尔多斯市",65=>"呼伦贝尔市",66=>"巴彦淖尔市",67=>"乌兰察布市",68=>"兴安盟",69=>"锡林郭勒盟",70=>"阿拉善盟"],
        "辽宁省"=>[71=>"沈阳市",72=>"大连市",73=>"鞍山市",74=>"抚顺市",75=>"本溪市",76=>"丹东市",77=>"锦州市",78=>"营口市",79=>"阜新市",80=>"辽阳市",81=>"盘锦市",82=>"铁岭市",83=>"朝阳市",84=>"葫芦岛市"],
        "吉林省"=>[85=>"长春市",86=>"吉林市",87=>"四平市",88=>"辽源市",89=>"通化市",90=>"白山市",91=>"松原市",92=>"白城市",93=>"延边朝鲜族自治州"],
        "黑龙江省"=>[94=>"哈尔滨市",95=>"齐齐哈尔市",96=>"鸡西市",97=>"鹤岗市",98=>"双鸭山市",99=>"大庆市",100=>"伊春市",101=>"佳木斯市",102=>"七台河市",103=>"牡丹江市",104=>"黑河市",105=>"绥化市",106=>"大兴安岭地区"],
        "上海市"=>[107=>"市辖区"],
        "江苏省"=>[108=>"南京市",109=>"无锡市",110=>"徐州市",111=>"常州市",112=>"苏州市",113=>"南通市",114=>"连云港市",115=>"淮安市",116=>"盐城市",117=>"扬州市",118=>"镇江市",119=>"泰州市",120=>"宿迁市"],
        "浙江省"=>[121=>"杭州市",122=>"宁波市",123=>"温州市",124=>"嘉兴市",125=>"湖州市",126=>"绍兴市",127=>"金华市",128=>"衢州市",129=>"舟山市",130=>"台州市",131=>"丽水市"],
        "安徽省"=>[132=>"合肥市",133=>"芜湖市",134=>"蚌埠市",135=>"淮南市",136=>"马鞍山市",137=>"淮北市",138=>"铜陵市",139=>"安庆市",140=>"黄山市",141=>"滁州市",142=>"阜阳市",143=>"宿州市",144=>"六安市",145=>"亳州市",146=>"池州市",147=>"宣城市"],
        "福建省"=>[148=>"福州市",149=>"厦门市",150=>"莆田市",151=>"三明市",152=>"泉州市",153=>"漳州市",154=>"南平市",155=>"龙岩市",156=>"宁德市"],
        "江西省"=>[157=>"南昌市",158=>"景德镇市",159=>"萍乡市",160=>"九江市",161=>"新余市",162=>"鹰潭市",163=>"赣州市",164=>"吉安市",165=>"宜春市",166=>"抚州市",167=>"上饶市"],
        "山东省"=>[168=>"济南市",169=>"青岛市",170=>"淄博市",171=>"枣庄市",172=>"东营市",173=>"烟台市",174=>"潍坊市",175=>"济宁市",176=>"泰安市",177=>"威海市",178=>"日照市",179=>"莱芜市",180=>"临沂市",181=>"德州市",182=>"聊城市",183=>"滨州市",184=>"菏泽市"],
        "河南省"=>[185=>"郑州市",186=>"开封市",187=>"洛阳市",188=>"平顶山市",189=>"安阳市",190=>"鹤壁市",191=>"新乡市",192=>"焦作市",193=>"濮阳市",194=>"许昌市",195=>"漯河市",196=>"三门峡市",197=>"南阳市",198=>"商丘市",199=>"信阳市",200=>"周口市",201=>"驻马店市",202=>"省直辖县级行政区划"],
        "湖北省"=>[203=>"武汉市",204=>"黄石市",205=>"十堰市",206=>"宜昌市",207=>"襄阳市",208=>"鄂州市",209=>"荆门市",210=>"孝感市",211=>"荆州市",212=>"黄冈市",213=>"咸宁市",214=>"随州市",215=>"恩施土家族苗族自治州",216=>"省直辖县级行政区划"],
        "湖南省"=>[217=>"长沙市",218=>"株洲市",219=>"湘潭市",220=>"衡阳市",221=>"邵阳市",222=>"岳阳市",223=>"常德市",224=>"张家界市",225=>"益阳市",226=>"郴州市",227=>"永州市",228=>"怀化市",229=>"娄底市",230=>"湘西土家族苗族自治州"],
        "广东省"=>[231=>"广州市",232=>"韶关市",233=>"深圳市",234=>"珠海市",235=>"汕头市",236=>"佛山市",237=>"江门市",238=>"湛江市",239=>"茂名市",240=>"肇庆市",241=>"惠州市",242=>"梅州市",243=>"汕尾市",244=>"河源市",245=>"阳江市",246=>"清远市",247=>"东莞市",248=>"中山市",249=>"潮州市",250=>"揭阳市",251=>"云浮市"],
        "广西壮族自治区"=>[252=>"南宁市",253=>"柳州市",254=>"桂林市",255=>"梧州市",256=>"北海市",257=>"防城港市",258=>"钦州市",259=>"贵港市",260=>"玉林市",261=>"百色市",262=>"贺州市",263=>"河池市",264=>"来宾市",265=>"崇左市"],
        "海南省"=>[266=>"海口市",267=>"三亚市",268=>"三沙市",269=>"儋州市",270=>"省直辖县级行政区划"],
        "重庆市"=>[271=>"市辖区",272=>"县"],
        "四川省"=>[273=>"成都市",274=>"自贡市",275=>"攀枝花市",276=>"泸州市",277=>"德阳市",278=>"绵阳市",279=>"广元市",280=>"遂宁市",281=>"内江市",282=>"乐山市",283=>"南充市",284=>"眉山市",285=>"宜宾市",286=>"广安市",287=>"达州市",288=>"雅安市",289=>"巴中市",290=>"资阳市",291=>"阿坝藏族羌族自治州",292=>"甘孜藏族自治州",293=>"凉山彝族自治州"],
        "贵州省"=>[294=>"贵阳市",295=>"六盘水市",296=>"遵义市",297=>"安顺市",298=>"毕节市",299=>"铜仁市",300=>"黔西南布依族苗族自治州",301=>"黔东南苗族侗族自治州",302=>"黔南布依族苗族自治州"],
        "云南省"=>[303=>"昆明市",304=>"曲靖市",305=>"玉溪市",306=>"保山市",307=>"昭通市",308=>"丽江市",309=>"普洱市",310=>"临沧市",311=>"楚雄彝族自治州",312=>"红河哈尼族彝族自治州",313=>"文山壮族苗族自治州",314=>"西双版纳傣族自治州",315=>"大理白族自治州",316=>"德宏傣族景颇族自治州",317=>"怒江傈僳族自治州",318=>"迪庆藏族自治州"],
        "西藏自治区"=>[319=>"拉萨市",320=>"日喀则市",321=>"昌都市",322=>"林芝市",323=>"山南市",324=>"那曲地区",325=>"阿里地区"],
        "陕西省"=>[326=>"西安市",327=>"铜川市",328=>"宝鸡市",329=>"咸阳市",330=>"渭南市",331=>"延安市",332=>"汉中市",333=>"榆林市",334=>"安康市",335=>"商洛市"],
        "甘肃省"=>[336=>"兰州市",337=>"嘉峪关市",338=>"金昌市",339=>"白银市",340=>"天水市",341=>"武威市",342=>"张掖市",343=>"平凉市",344=>"酒泉市",345=>"庆阳市",346=>"定西市",347=>"陇南市",348=>"临夏回族自治州",349=>"甘南藏族自治州"],
        "青海省"=>[350=>"西宁市",351=>"海东市",352=>"海北藏族自治州",353=>"黄南藏族自治州",354=>"海南藏族自治州",355=>"果洛藏族自治州",356=>"玉树藏族自治州",357=>"海西蒙古族藏族自治州"],
        "宁夏回族自治区"=>[358=>"银川市",359=>"石嘴山市",360=>"吴忠市",361=>"固原市",362=>"中卫市"],
        "新疆维吾尔自治区"=>[363=>"乌鲁木齐市",364=>"克拉玛依市",365=>"吐鲁番市",366=>"哈密市",367=>"昌吉回族自治州",368=>"博尔塔拉蒙古自治州",369=>"巴音郭楞蒙古自治州",370=>"阿克苏地区",371=>"克孜勒苏柯尔克孜自治州",372=>"喀什地区",373=>"和田地区",374=>"伊犁哈萨克自治州",375=>"塔城地区",376=>"阿勒泰地区",377=>"自治区直辖县级行政区划"],
        "台湾"=>[378=>"台北",379=>"高雄",380=>"基隆",381=>"台中",382=>"台南",383=>"新竹",384=>"嘉义",385=>"宜兰",386=>"桃园",387=>"苗栗",388=>"彰化",389=>"南投",390=>"云林",391=>"屏东",392=>"台东",393=>"花莲",394=>"澎湖"],
        "香港"=>[395=>"香港岛",396=>"九龙",397=>"新界"],
        "澳门"=>[398=>"澳门半岛",399=>"氹仔岛",400=>"路环岛",401=>"路氹城"],
    ];
    const HIERARCHY = [
        0=>[35],
        1=>[36],
        2=>[37,38,39,40,41,42,43,44,45,46,47],
        3=>[48,49,50,51,52,53,54,55,56,57,58],
        4=>[59,60,61,62,63,64,65,66,67,68,69,70],
        5=>[71,72,73,74,75,76,77,78,79,80,81,82,83,84],
        6=>[85,86,87,88,89,90,91,92,93],
        7=>[94,95,96,97,98,99,100,101,102,103,104,105,106],
        8=>[107],
        9=>[108,109,110,111,112,113,114,115,116,117,118,119,120],
        10=>[121,122,123,124,125,126,127,128,129,130,131],
        11=>[132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147],
        12=>[148,149,150,151,152,153,154,155,156],
        13=>[157,158,159,160,161,162,163,164,165,166,167],
        14=>[168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184],
        15=>[185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202],
        16=>[203,204,205,206,207,208,209,210,211,212,213,214,215,216],
        17=>[217,218,219,220,221,222,223,224,225,226,227,228,229,230],
        18=>[231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251],
        19=>[252,253,254,255,256,257,258,259,260,261,262,263,264,265],
        20=>[266,267,268,269,270],
        21=>[271,272],
        22=>[273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293],
        23=>[294,295,296,297,298,299,300,301,302],
        24=>[303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318],
        25=>[319,320,321,322,323,324,325],
        26=>[326,327,328,329,330,331,332,333,334,335],
        27=>[336,337,338,339,340,341,342,343,344,345,346,347,348,349],
        28=>[350,351,352,353,354,355,356,357],
        29=>[358,359,360,361,362],
        30=>[363,364,365,366,367,368,369,370,371,372,373,374,375,376,377],
        31=>[378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394],
        32=>[395,396,397],
        33=>[398,399,400,401],
    ];

    public static function AllCity(){

        return self::CITY;
    }

    public static function Hierarchy(){

        return self::HIERARCHY;
    }

    /**
     * 根据城市获取 是否有运费
     * @param $province
     * @param $city
     * @return array|bool
     */
    public static function getCity($province,$city){



       $city_name = self::CITY_NAME;
       if(isset($city_name[$province]) && in_array($city,$city_name[$province])){
           $citys =  array_flip($city_name[$province]);

           if(isset($citys[$city])){

               $int = $citys[$city];
               $friend = new Freight();
               $all_friend = $friend->getAll();
               if($all_friend){
                   foreach($all_friend as $v){
                       $regios = json_decode($v->regions);
                       if(in_array($int,$regios)){
                           return ['price'=>$v->price,'over_price'=>$v->over_price];
                       }
                   }
                   return false;
               }else{
                   return false;
               }
           }
       }
       return false;
    }
}